var e=$("#productDatatable").DataTable({processing:!0,serverSide:!0,scrollX:!0,ajax:"/inventory/product/browse-product",columns:[{data:"action",name:"action",sortable:!1},{data:"id",name:"id",visible:!1},{data:"photo",name:"photo",sortable:!1,render:function(t,a,r){return`
          <img
            style="width: 100px; height: 100px"
            class="img-fluid rounded"
            src="${t?`../storage/${t}`:"../assets/img/illustrations/image-placeholder.png"}" />
        `}},{data:"name",name:"name"},{data:"stock",name:"stock"},{data:"uom",name:"uom"},{data:"restock_threshold",name:"restock_threshold"},{data:"purchase_price",name:"purchase_price",render:function(t,a,r){return`<span>Rp ${parseFloat(t).toLocaleString("id-ID")}</span>`}},{data:"selling_price",name:"selling_price",render:function(t,a,r){return`<span>Rp ${parseFloat(t).toLocaleString("id-ID")}</span>`}},{data:"remarks",name:"remarks"}],order:[[1,"desc"]],language:{lengthMenu:"Tampilkan _MENU_ data",zeroRecords:"Data tidak ditemukan...",info:"Halaman _PAGE_ dari _PAGES_",infoEmpty:"Data tidak ditemukan ",infoFiltered:"(Difilter dari _MAX_ data)"},dom:'<"row"<"px-4 my-2 col-12"l>tr<"px-4 my-1 col-md-6"i><"px-4 mt-1 mb-3 col-md-6"p>>'}),i=$('<a class="btn btn-primary float-end" href="product/create">Tambah</a>');$(".dataTables_length").append(i);$("input.dt-input").on("keyup",function(){e.column($(this).attr("data-column")).search($(this).val()).draw()});$("#stockOperatorList").on("click",function(t){const a=t.target.textContent;(a=="<"||a==">"||a=="=")&&($("#stockOperatorBtn").text(t.target.textContent),n())});$("input.dt-input-stock").on("keyup change",n);function n(){const t=$("input.dt-input-stock").val(),a=$("#stockOperatorBtn").text();console.log(a+" "+t),!isNaN(t)&&t!="e"?(console.log(a+" "+t),e.column($("input.dt-input-stock").attr("data-column")).search(a+" "+t).draw()):t==""&&e.column($("input.dt-input-stock").attr("data-column")).search(null).draw()}
